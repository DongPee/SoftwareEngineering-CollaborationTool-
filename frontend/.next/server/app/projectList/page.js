(()=>{var e={};e.id=800,e.ids=[800],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},10924:(e,t,r)=>{Promise.resolve().then(r.bind(r,38955))},12061:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var o=r(60687),s=r(43210),n=r(85814),a=r.n(n),i=r(6955),l=r(46501),c=r(35814),d=r.n(c);let p=["bg-rose-200","bg-sky-200","bg-lime-200","bg-emerald-200","bg-indigo-200","bg-orange-200","bg-teal-200","bg-violet-200"];function u(){let e=(0,s.useContext)(i.c),[t,r]=(0,s.useState)([]),[n,c]=(0,s.useState)(""),[u,m]=(0,s.useState)(""),[h,x]=(0,s.useState)(!1),g=async()=>{let t=e?.email??"";try{let e=await fetch("http://43.203.124.34:5001/api/showProjects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})});if(e.ok){let t=(await e.json()).projects.map(e=>({id:e.project_id,name:e.name,desc:e.description??"",color:p[Math.floor(Math.random()*p.length)],editing:!1}));r(t)}}catch(e){console.error("서버 오류:",e),alert("서버 오류가 발생했습니다.")}},f=async()=>{if(""===n.trim()||""===u.trim())return;let t=e?.email??"",o=n.trim(),s=u.trim();try{let e=await fetch("http://43.203.124.34:5001/api/createProject",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,name:o,desc:s})});if(!e.ok)throw Error("프로젝트 생성 실패");let n=await e.json();console.log(n);let a={id:n.id,name:o,desc:s,color:p[Math.floor(Math.random()*p.length)],editing:!1,sharing:!1};r(e=>[...e,a]),c(""),m(""),g()}catch(e){console.error("프로젝트 생성 오류:",e),alert("프로젝트 생성에 실패했습니다.")}},b=async e=>{try{if(!(await fetch("http://43.203.124.34:5001/api/deleteProject",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:e})})).ok)throw Error("프로젝트 삭제 실패");r(t=>t.filter(t=>t.id!==e))}catch(e){console.error("프로젝트 삭제 오류:",e),alert("프로젝트 삭제에 실패했습니다.")}},j=e=>{"Enter"!==e.key||h||""===n||""===u||f()},y=()=>{x(!0)},v=()=>{x(!1)},_=e=>{r(t=>t.map((t,r)=>r===e?{...t,editing:!t.editing}:t))},N=(e,t)=>{r(r=>r.map((r,o)=>o===e?{...r,name:t}:r))},w=(e,t)=>{r(r=>r.map((r,o)=>o===e?{...r,desc:t}:r))},k=async(e,r)=>{if("Enter"===e.key){let e=t[r];try{if(!(await fetch("http://43.203.124.34:5001/api/updateProject",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:e.id,name:e.name,desc:e.desc})})).ok)throw Error("프로젝트 수정 실패");_(r)}catch(e){console.error("프로젝트 수정 오류:",e),alert("프로젝트 수정에 실패했습니다.")}}};return(0,o.jsx)(o.Fragment,{children:e?.isLoggedIn?(0,o.jsxs)("div",{className:"w-full h-14/15 flex flex-col items-center justify-center px-6",children:[(0,o.jsxs)("div",{className:d().inputGroup,children:[!n&&(0,o.jsx)("button",{onClick:()=>c(" "),className:"hover:text-blue-400 font-semibold py-2 px-4 rounded-lg mb-6 border-2",children:(0,o.jsx)("p",{className:"m-2",children:"새 프로젝트 만들기"})}),""!==n&&(0,o.jsxs)("div",{className:"flex flex-col items-start w-full",children:[(0,o.jsx)("label",{children:"프로젝트 이름"}),(0,o.jsx)("input",{type:"text",placeholder:"새 프로젝트 이름 입력 후 Enter",value:n,onChange:e=>c(e.target.value),onKeyDown:j,onCompositionStart:y,onCompositionEnd:v,className:"border border-gray-300 rounded-md px-4 py-2 w-full max-w-md mb-2 focus:outline-none focus:ring-2 focus:ring-blue-400"}),(0,o.jsx)("label",{children:"프로젝트 설명"}),(0,o.jsx)("input",{type:"text",placeholder:"새 프로젝트 설명 입력 후 Enter",value:u,onChange:e=>m(e.target.value),onKeyDown:j,onCompositionStart:y,onCompositionEnd:v,className:"border border-gray-300 rounded-md px-4 py-2 w-full max-w-md mb-2 focus:outline-none focus:ring-2 focus:ring-blue-400"}),(0,o.jsx)("p",{onClick:()=>c(""),className:"hover:text-blue-400 font-bold",children:"취소"})]})]}),(0,o.jsx)("div",{className:"w-full max-w-3xl h-[400px] overflow-y-auto space-y-4",children:t.map((e,t)=>(0,o.jsxs)("div",{className:`${d().projectListColor} flex justify-between items-center rounded-2xl shadow-sm ${e.color} transition mx-10`,children:[e.editing?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("input",{type:"text",value:e.name,onChange:e=>N(t,e.target.value),onKeyDown:e=>k(e,t),className:"rounded w-1/2 min-h-7 m-4"}),(0,o.jsx)("input",{type:"text",value:e.desc,onChange:e=>w(t,e.target.value),onKeyDown:e=>k(e,t),className:"rounded w-1/2 min-h-7 m-4"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:`${d().projectName} text-lg font-semibold m-4`,children:e.name}),(0,o.jsx)("span",{className:`${d().projectName} text-sm ml-4 mb-2`,children:e.desc})]}),(0,o.jsxs)("div",{className:"flex gap-2",children:[e.editing&&(0,o.jsx)("button",{onClick:()=>b(e.id),className:"border-2 border-black text-black text-sm rounded hover:bg-red-200 mr-1",children:(0,o.jsx)("p",{className:"m-2",children:"X"})}),(0,o.jsx)("button",{onClick:()=>_(t),className:"border-2 border-black text-black text-sm rounded hover:bg-gray-100 mr-1",children:(0,o.jsx)("p",{className:"m-2",children:e.editing?"✓":"✎"})}),(0,o.jsx)(a(),{href:`/${e.id?`project/${e.id}/${encodeURIComponent(e.name)}/${encodeURIComponent(e.desc)}`:"projectList"}`,children:(0,o.jsx)("button",{className:"border-2 border-black text-black text-sm rounded hover:bg-white mr-3",children:(0,o.jsx)("p",{className:"m-2",children:"➡️"})})})]})]},t))})]}):(0,o.jsx)(l.default,{})})}},17004:(e,t,r)=>{Promise.resolve().then(r.bind(r,12061))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},35814:e=>{e.exports={container:"signup_container__VHxSu",signupBox:"signup_signupBox__YQEsh",title:"signup_title__f_fv7",form:"signup_form__Y53Ho",inputGroup:"signup_inputGroup__sA_ms",submitButton:"signup_submitButton__iTN9E",idenButtonContainer:"signup_idenButtonContainer__kpNgx",idenButton:"signup_idenButton__4v7SB",loginText:"signup_loginText__1SEgh",loginLink:"signup_loginLink__EPNvE",socialLogin:"signup_socialLogin__bBaWz",helpLogin:"signup_helpLogin__U1pYK",createAccount:"signup_createAccount__nfq1W",projectName:"signup_projectName__lr0LL",projectListColor:"signup_projectListColor__xZ3I4"}},38955:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});let o=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/macbook/Library/Mobile Documents/com~apple~CloudDocs/교내활동/대학/3학년1학기/소프트웨어공학/swep15/frontend/app/projectList/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/macbook/Library/Mobile Documents/com~apple~CloudDocs/교내활동/대학/3학년1학기/소프트웨어공학/swep15/frontend/app/projectList/page.tsx","default")},46055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var o=r(31658);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,o.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},46501:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var o=r(60687),s=r(43210),n=r(16189),a=r(30474),i=r(85814),l=r.n(i),c=r(82136),d=r(6955),p=r(35814),u=r.n(p);function m(){let[e,t]=(0,s.useState)(""),[r,i]=(0,s.useState)(""),[p,m]=(0,s.useState)(!1),h=(0,s.useContext)(d.c);(0,n.useRouter)();let x=async()=>{try{let t=await fetch("http://43.203.124.34:5001/api/createLoginToken",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),r=await t.json();t.ok?localStorage.setItem("loginToken",r.token):(alert("로그인 토큰 저장 실패"),alert(r.error))}catch(e){console.error("서버 오류:",e),alert("서버 오류가 발생했습니다.")}},g=async t=>{t.preventDefault(),console.log("로그인중"),console.log(p),console.log(e),p&&e&&x();try{let t=await fetch("http://43.203.124.34:5001/api/tryLogin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:r})}),o=await t.json();t.ok?h?.login(o.username,"none",o.email):(alert("로그인 실패"),alert(o.error))}catch(e){console.error("서버 오류:",e),alert("서버 오류가 발생했습니다.")}},f=async()=>{let e=await (0,c.signIn)("google",{redirect:!1});e?.error?console.error("로그인 오류:",e.error):h?.login("","goggle","")},b=async()=>{let e=await (0,c.signIn)("kakao",{redirect:!1});e?.error?console.error("카카오 로그인 오류:",e.error):h?.login("","kakao","")};return(0,o.jsx)("div",{className:u().container,children:(0,o.jsxs)("div",{className:u().signupBox,children:[(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsx)(a.default,{src:"/ollert-logo.jpg",alt:"Trello",width:120,height:40})}),(0,o.jsx)("h2",{className:u().title,children:"계속하려면 로그인하세요."}),(0,o.jsxs)("form",{onSubmit:g,className:"flex flex-col",children:[(0,o.jsxs)("div",{className:u().inputGroup,children:[(0,o.jsx)("label",{children:"이메일"}),(0,o.jsx)("input",{type:"email",placeholder:"이메일을 입력하세요",className:"border p-2 rounded mb-2 w-full text-gray-500",value:e,onChange:e=>t(e.target.value)}),e.includes("@")?(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{children:"비밀번호"}),(0,o.jsx)("input",{type:"password",placeholder:"비밀번호를 입력하세요",className:"border p-2 rounded mb-2 w-full text-gray-500",value:r,onChange:e=>i(e.target.value)})]}):(0,o.jsx)("div",{})]}),(0,o.jsxs)("label",{className:"flex items-center text-sm mb-4 cursor-pointer",children:[(0,o.jsx)("input",{type:"checkbox",className:"mr-2",checked:p,onChange:()=>m(!p)}),"내 정보 저장"]}),(0,o.jsx)("button",{type:"submit",className:u().submitButton,children:"계속"})]}),(0,o.jsx)("p",{className:u().socialLogin,children:"또는 다음을 사용하여 계속하기"}),(0,o.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,o.jsxs)("button",{onClick:f,className:"flex items-center justify-center border p-2 rounded hover:bg-gray-200",children:[(0,o.jsx)(a.default,{src:"/google-logo.png",alt:"Google",width:20,height:20,className:"ml-4 mr-4"}),"Google"]}),(0,o.jsxs)("button",{onClick:b,className:"flex items-center justify-center border p-2 rounded hover:bg-gray-200",children:[(0,o.jsx)(a.default,{src:"/kakao-icon.png",alt:"Kakao",width:40,height:20,className:"mr-2"}),"Kakao"]})]}),(0,o.jsxs)("div",{className:"text-center text-sm mt-4",children:[(0,o.jsx)(l(),{href:"forgotPassword",className:u().helpLogin,children:"로그인할 수 없습니까?"})," ・"," ",(0,o.jsx)(l(),{href:"signup",className:u().createAccount,children:"계정 만들기"})]}),(0,o.jsxs)("div",{className:"text-xs text-gray-400 text-center mt-6",children:[(0,o.jsx)("p",{children:(0,o.jsx)("strong",{children:"ASDFASDF"})}),(0,o.jsx)("p",{children:"ASDF"}),(0,o.jsxs)("p",{children:[(0,o.jsx)("a",{href:"#",className:"underline",children:"개인정보 보호정책"})," ・ ",(0,o.jsx)("a",{href:"#",className:"underline",children:"사용자 약관"})]})]})]})})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79551:e=>{"use strict";e.exports=require("url")},92289:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c});var o=r(65239),s=r(48088),n=r(88170),a=r.n(n),i=r(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c={children:["",{children:["projectList",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,38955)),"/Users/macbook/Library/Mobile Documents/com~apple~CloudDocs/교내활동/대학/3학년1학기/소프트웨어공학/swep15/frontend/app/projectList/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"/Users/macbook/Library/Mobile Documents/com~apple~CloudDocs/교내활동/대학/3학년1학기/소프트웨어공학/swep15/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/Users/macbook/Library/Mobile Documents/com~apple~CloudDocs/교내활동/대학/3학년1학기/소프트웨어공학/swep15/frontend/app/projectList/page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new o.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/projectList/page",pathname:"/projectList",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[243,264,658,603],()=>r(92289));module.exports=o})();